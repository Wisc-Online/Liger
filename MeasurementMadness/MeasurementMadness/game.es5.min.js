"use strict";var Game=Game||function(n){function t(t,i){function ei(){u.installPlugin(n.Sound);u.addEventListener("complete",function(){var n=bi();y(n);wi()});u.loadManifest(vt)}function oi(){o.update()}function yi(n){for(var t=n.length,i;0!==t;)t-=1,i=n[t],n[t].type=="32"?pt.push(i):n[t].type=="16"?wt.push(i):n[t].type=="8"?bt.push(i):n[t].type=="4"?kt.push(i):n[t].type=="mm"&&dt.push(i)}function pi(n,t,i,r,u){var e,f;for(n=d(n),t=d(t),i=d(i),r=d(r),u=d(u),e=1,f=0;f<4;++f)b.push(n[f]);for(f=0;f<8;++f)b.push(t[f]);for(f=0;f<16;++f)b.push(i[f]);for(f=0;f<40;++f)b.push(r[f]);for(f=0;f<32;++f)b.push(u[f]);b=d(b);s=b}function d(n){for(var t=n.length,r,i;0!==t;)i=Math.floor(Math.random()*t),si.splice(0,0,i),t-=1,r=n[t],n[t]=n[i],n[i]=r;return n}function y(t){if(w!=null){var i=w;n.Tween.get(w).to({alpha:0},250).call(function(){o.removeChild(i)})}w=t;w!=null&&(w.alpha=0,o.addChild(w),n.Tween.get(w).to({alpha:1},250))}function ct(){n.Sound.play("btnClick")}function wi(){var t=new n.Bitmap(u.getResult("TitleImage"));t.x=13;t.y=5;o.addChild(t)}function ft(t){var i;return t=="large"?(i=new n.Bitmap(u.getResult("dirPanel")),i.scaleX=.22,i.scaleY=.25):(i=new n.Bitmap(u.getResult("smallpanel")),i.scaleX=.95,i.scaleY=.8),i}function bi(){var i,e,t,r,f,o;return l=!1,i=new n.Container,e=new n.Bitmap(u.getResult("backgroundImage")),e.x=0,e.y=0,i.addChild(e),t=ft("large"),t.x=-30,t.y=60,i.addChild(t),r=new n.Text("Welcome to Measurement Madness.","18px Arial bold","white"),f=new n.Text("\n\nThis is a graded assessment. To pass this assessment you will need to have fewer then 4 incorrect. There are 100 questions ahead. 4 quarters, 8 eights, 16 sixteenths, 40 thirtyseconds, and 32 mm and cm questions. If you don't succeed you can try again. ","24px Arial bold","White"),r.x=t.x+80,r.y=t.y+80,r.lineWidth=300,i.addChild(r),f.x=t.x+80,f.y=t.y+100,f.lineWidth=300,i.addChild(f),o=ri(),i.addChild(o),i}function lt(){var t,c,w,b,d,it,et,f,ft,s;rt==0&&y(tt());l=!1;t=new n.Container;c=new n.Bitmap(u.getResult("backgroundImage"));c.x=0;c.y=0;t.addChild(c);w=new n.Bitmap(u.getResult("TitleImage"));w.x=13;w.y=5;t.addChild(w);b=new n.Text("Question Count: "+rt,"18px Arial","White");b.x=10;b.y=75;t.addChild(b);d=new n.Text("Incorrect: "+k,"18px Arial","White");d.x=10;d.y=105;t.addChild(d);it=new n.Text("Correct: "+g,"18px Arial","White");it.x=10;it.y=135;t.addChild(it);nt==!0&&(et=ir(),t.addChild(et));f=tr();f!=null&&t.addChild(f);var ut=0,r=0,ot=4.25;r=ki();ut=r+128;ut>192?(ut=6,r=2):r=r/32;var i=fr(ot,r),st=ot*v.ruler.pixelsPerDivision*v.ruler.divisionsPerInch;return i.x=0,i.y=0,e>=1?(i.x=0,i.y=100):n.Tween.get(i).to({x:0,y:100},3e3),i.scaleX=1*(o.canvas.width/st),t.addChild(i),nt==!0&&(ft=(new n.Shape).set({x:70,y:160}),t.addChild(ft),ft.graphics.setStrokeStyle(2).beginStroke("Green").drawRect(-1,-1,302,22).endStroke(),s=(new n.Shape).set({x:70,y:160,scaleX:0}),s.graphics.beginFill("orange").drawRect(0,0,300,20),t.addChild(s)),e>0?nt==!0&&(p=n.Tween.get(s,{override:!0}).to({scaleX:1},h*1e3,n.Ease.quadIn).wait(.01).call(function(){l=!0;a+=1;p.paused=!0;p.setPaused(!0);at()})):nt==!0&&(p=n.Tween.get(s,{override:!0}).wait(3e3).to({scaleX:1},h*1e3,n.Ease.quadIn).wait(.01).call(function(){l=!0;a+=1;p.paused=!0;p.setPaused(!0);at()})),f==null||f==undefined?(t=tt(),p.setPaused(!0),t):t}function ki(){var h=32*s[e].value,n,i=s[e].value,f=s[e].unit,r,o,t,u;return f=="mm"&&(r=2.54,o=r*10,i=Math.round(i/25.4)),n=192*Math.random(),n=Math.round(n),t=i*32,t<=65&&(n=0),n>t&&(n=t-9),u=n+128,u<t&&(n=t-128),n}function di(){return rt=100}function tr(){var t=new n.Text(s[e].text,"26px Arial bold","Yellow");return t.x=10,t.y=250,t.value=s[e].value,t}function ir(){return ot=new n.Text("Timer: ","18px Arial","White"),ot.x=10,ot.y=160,ot}function gt(t){nt==!0&&(p.paused=!0,p.setPaused(!0));t.value==s[e].value&&t.unit.toString()==s[e].unit?(ur(),n.Sound.play("Correct"),ti(),e>=1?(l=!1,y(lt())):y(tt())):(a+=1,at())}function at(t){var i,r;k+=1;a<4?(i=new n.Bitmap(u.getResult("RedXXX")),i.x=200,i.y=30,i.scaleX=.15,i.scaleY=.15,o.addChild(i)):(r=new n.Bitmap(u.getResult("Fired")),r.x=120,r.y=300,r.rotation=-35,o.addChild(r));n.Sound.play("Buzzer");setTimeout(function(){o.removeChild(i);a>=4?(ni(t,a),setTimeout(function(){o.removeChild(r);yt=!0;y(tt())},3e3)):e<=s.length?ni(t,a):y(tt())},1500)}function ni(t,i){st.forEach(function(t){t.value==s[e].value&&n.Tween.get(t.backgroundOfDivision).to({alpha:1},500)});rr(i);ti()}function rr(t){var i=new n.Container,r=ft(),f,h,u,s;r.x=190;r.y=50;i.addChild(r);t>3||(f=new n.Text("Sorry thats incorrect. The correct answer is highlighted for you. \n\nSelect close to read the next measurement.","18px Arial bold","yellow"),f.x=r.x+35,f.y=r.y+30,f.lineWidth=320,i.addChild(f),o.addChild(i));t<4&&(h=ii(),u=new n.Sprite(h,"original"),u.x=r.x+85,u.y=r.y+130,i.addChild(u),s=new n.Text("Close","24px Arial bold","yellow"),s.x=u.x+100,s.y=u.y+30,s.textAlign="center",i.addChild(s));i.addEventListener("click",function(){o.removeChild(i);e>=1?y(lt()):y(tt())})}function ti(){e+=1;rt--}function ur(){g+=1;r>0&&r<100?(c=1,h=14):r>100&&r<200?(c=2,h=13):r>200&&r<400?(c=3,h=12):r>400&&r<600?(c=4,h=11):r>600&&r<800?(c=5,h=10):r>800&&r<1e3?(c=6,h=9):r>1e3&&r<2e3?(c=7,h=8):r>2e3&&r<4e3?(c=8,h=7):r>4e3&&(c=9,h=6);switch(c){case 1:r+=20;break;case 2:r+=30;break;case 3:r+=40;break;case 4:r+=50;break;case 5:r+=60;break;case 6:r+=70;break;case 7:r+=80;break;case 8:r+=90;break;case 9:r+=100}}function fr(t,i){var r,u,h,f,tt,o,e,y,s,b;i||(i=0);var p=new n.Container,c=v.ruler.pixelsPerDivision,k=v.ruler.divisionsPerInch*t,a=2.54*10,g=new n.Shape,nt=200;for(g.graphics.beginStroke("black").beginFill("white").drawRect(0,200,k*c,nt),p.addChild(g),tt=i+k,o=i*v.ruler.divisionsPerInch,e=0;e<=k;++e)r=new n.Container,r.value=e*(1/v.ruler.divisionsPerInch)+i,r.unit="in",u=new n.Shape,h=new n.Shape,h.x=e*c,h.graphics.setStrokeStyle(.5).beginStroke("black"),(e+o)%32==0?(f=70,e+o>0&&(y=new n.Text(((e+o)/32).toString(),"32px Arial","black"),y.x=h.x,y.y=f+200,y.textAlign="center",r.addChild(y))):f=(e+o)%8==0?60:(e+o)%4==0?45:(e+o)%2==0?30:15,u.graphics.setStrokeStyle(.5).beginStroke("Green").beginFill("Green"),u.alpha=0,u.graphics.drawRect(-c/2,200,c,f).endStroke(),u.x=e*c,h.graphics.drawRect(-.5,200,1,f).endStroke(),r.divisionHeight=f,r.division=h,r.backgroundOfDivision=u,r.addChild(u),r.addEventListener("rollover",function(t){n.Tween.get(t.currentTarget.backgroundOfDivision).to({alpha:1},500)}),r.addEventListener("rollout",function(t){n.Tween.get(t.currentTarget.backgroundOfDivision,{override:!0}).to({alpha:0},250)}),r.addEventListener("mousedown",function(n){l==!1&&(ct(),l=!0,gt(n.currentTarget))}),r.addChild(h),p.addChild(r),st.push(r);var d=c*v.ruler.divisionsPerInch/a,it=0,ft=o*a,et=i*a,rt=t*a,w=Math.ceil(i*a),ut=w-i*a;for(s=0;s<=rt;++s)mmDivision=new n.Shape,r=new n.Container,r.value=s*(10/v.ruler.divisionsPerCentimenter)+w,r.unit="mm",r.y=nt,r.x=(s+ut)*d,mmDivision.graphics.setStrokeStyle(.5).beginStroke("Black"),(s+w)%10==0?(f=45,s>0&&(b=new n.Text(((s+w)/10).toString(),"32px Arial","black"),b.textAlign="center",b.y=-f+170,r.addChild(b))):f=25,u=new n.Shape,u.graphics.setStrokeStyle(.5).beginStroke("Green").beginFill("Green"),u.alpha=0,u.graphics.drawRect(-d/2,200,d,-f).endStroke(),u.textAlign="center",r.backgroundOfDivision=u,r.addChild(u),mmDivision.graphics.drawRect(-.5,200,1,-f).endStroke(),r.y=200,r.divisionHeight=-f,r.mmDivision=mmDivision,r.addChild(mmDivision),r.addEventListener("rollover",function(t){n.Tween.get(t.currentTarget.backgroundOfDivision).to({alpha:1},500)}),r.addEventListener("rollout",function(t){n.Tween.get(t.currentTarget.backgroundOfDivision,{override:!0}).to({alpha:0},250)}),r.addEventListener("mousedown",function(n){l==!1&&(l=!0,gt(n.currentTarget))}),p.addChild(r),it+=.0254,st.push(r);return p}function ii(){var t={images:[u.getResult("ButtonSprite")],frames:{width:200,height:90,count:2},animations:{original:0,selected:1}};return new n.SpriteSheet(t)}function ri(){var f=new n.Container,o={images:[u.getResult("ButtonSpriteGreen")],frames:{width:200,height:90,count:2},animations:{original:1,selected:0}},s=new n.SpriteSheet(o),l={images:[u.getResult("ButtonSprite")],frames:{width:200,height:90,count:2},animations:{original:0,selected:1}},v=new n.SpriteSheet(l),t=new n.Sprite(s,"original"),i;return t.x=600,t.y=520,f.addChild(t),yt==!0?(i=new n.Text("Restart","22px Arial bold","yellow"),i.x=t.x+70,i.y=t.y+30,f.addChild(i)):(i=new n.Text("Start","22px Arial bold","yellow"),i.x=t.x+80,i.y=t.y+30,f.addChild(i)),t.addEventListener("click",function(){di();ct();e=0;a=0;c=1;h=10;r=0;k=0;g=0;y(lt())}),f}function er(){hi=!1;ci=!1;li=!1;ai=!1;vi=!1;nt=!1;rt=0}function tt(){var t,f,e,i,r,o;return ht&&(k<4?(ScormHelper.cmi.successStatus(ScormHelper.successStatus.passed),ScormHelper.cmi.completionStatus(ScormHelper.completionStatus.completed)):(ScormHelper.cmi.successStatus(ScormHelper.successStatus.failed),ScormHelper.cmi.completionStatus(ScormHelper.completionStatus.incomplete))),t=new n.Container,f=new n.Bitmap(u.getResult("backgroundImage")),f.x=0,f.y=0,t.addChild(f),e=new n.Bitmap(u.getResult("TitleImage")),e.x=5,e.y=5,t.addChild(e),i=ft("large"),i.x=-30,i.y=60,t.addChild(i),r=k<4?new n.Text("Way to go! \n\nYou ansered "+g+" of 92 measurements. \n\nYou passed this assessement. Your score was added to your gradebook. ","18px Arial bold","White"):new n.Text("Sorry to hear you were fired. Missing measurements can cost businesses billions of dollars each year. Maybe you should try flipping burgers as a career. \n\nYou answered  \n\nCorrect: "+g+" \n\nIncorrect: "+k,"18px Arial bold","White"),r.x=i.x+80,r.y=i.y+80,r.lineWidth=300,t.addChild(r),o=ri(),t.addChild(o),er(),t}var ui=this,o=new n.Stage(t),fi,vt,u,v,p,gi,nr,et,ot,l,st;o.enableMouseOver(10);n.Ticker.on("tick",o);var w=null,ht=!1;typeof ScormHelper!="undefined"&&(ht=ScormHelper.initialize());fi=ht?function(){ScormHelper.cmi.exit("");ScormHelper.adl.nav.request("exitAll");ScormHelper.terminate()}:function(){window.location="http://www.wisc-online.com"};var f=i.assetsPath||"",it=i.assetsPath||"",ut=".mp3";f+="images/";it+="Audio/";vt=[{id:"RedXXX",src:f+"X.png"},{id:"Buzzer",src:it+"WrongBuzzer"+ut},{id:"NiceWrong",src:it+"nicewrong"+ut},{id:"Correct",src:it+"Correct"+ut},{id:"btnClick",src:it+"btnClick"+ut},{id:"backgroundImage",src:f+"background.jpg"},{id:"button",src:f+"button.png"},{id:"selectedButton",src:f+"SelectedButton.png"},{id:"Fired",src:f+"Fired.png"},{id:"buttonGreen",src:f+"buttonGreen.png"},{id:"selectedButtonGreen",src:f+"SelectedButton_green.png"},{id:"ButtonSpriteGreen",src:f+"spritesheetGreen.png"},{id:"dirPanel",src:f+"PanelBG.png"},{id:"smallpanel",src:f+"panelBG_400x300.png"},{id:"ButtonSprite",src:f+"spritesheetnomargin.png"},{id:"LevelsTextImage",src:f+"levelstext.png"},{id:"facebookShare",src:f+"FBShareIconSmall.png"},{id:"tweetscore",src:f+"Twitter.png"},{id:"TitleImage",src:f+"measurementMadnessTitle.png"}];u=new n.LoadQueue(!1);n.Ticker.setFPS(40);n.Ticker.addEventListener("tick",oi);var s=[],si=[],r=0,e=0,a=0,yt=!1,k=0,g=0,rt=0,c=1,h=10,hi=!1,ci=!1,li=!1,ai=!1,vi=!1,nt=!1,pt=[],wt=[],bt=[],kt=[],dt=[],b=[];s=i.questions;yi(s);pi(kt,bt,wt,pt,dt);v={ruler:{pixelsPerDivision:5,divisionsPerInch:32,divisionsPerCentimenter:10}};gi=[];nr=!1;l=!1;st=[];ui.start=function(){ei()}}return t}(createjs);